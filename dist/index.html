<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <title>Popdeem Javascript SDK Example</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <script>
      window.onload = function() {
        pd.init({ API_KEY: "e934194f-cf4d-4b79-8526-9ccbbc06d0c9" });
      };

      function setlog(data) {
        const logArea = document.getElementById("popdeem-log");
        logArea.value = data;
      }
      function showLoading() {
        const logArea = document.getElementById("loading");
        logArea.style.visibility = "visible";
      }
      function hideLoading() {
        const logArea = document.getElementById("loading");
        logArea.style.visibility = "hidden";
      }
      function registerUser() {
        showLoading();
        pd.registerUser({
          user: {
            facebook: {
              access_token:
                "EAAZA2c15Dn9ABAPsBmvwVVkqZAfaznyqf7tqieJI12fvC8hypeluUAkQJeTUYZBqgb70wfN74Q6NxYSzogFrIYxTSW5GuQU3mzaxSkWtX3xc5gjkonrbdLPYzCrZAqD7PEtUX1Po7ypOpaop0GndC4v6okuBCcO0TLh1bee1f8vBeOuoyM8Ca61pcYRAZASojFjRjMpaa9q2tzUXD1yMeTMZBftlzmFUAUwgW2mLnEcwZDZD",
              id: "2424203447860834"
            },
            unique_identifier: "UNIQUE_UUID_INDENTIFIER2"
          }
        })
          .then(result => {
            setlog(JSON.stringify(result));
            hideLoading();
          })
          .catch(function(error) {
            setlog(JSON.stringify(error));
            hideLoading();
          });
      }
      function userInfo() {
        showLoading();
        pd.userInfo()
          .then(result => {
            setlog(JSON.stringify(result));
            hideLoading();
          })
          .catch(function(error) {
            setlog(JSON.stringify(error));
            hideLoading();
          });
      }
      function rewards() {
        showLoading();
        pd.rewards()
          .then(result => {
            setlog(JSON.stringify(result));
            hideLoading();
          })
          .catch(function(error) {
            setlog(JSON.stringify(error));
            hideLoading();
          });
      }
      function activity() {
        showLoading();
        pd.activity()
          .then(result => {
            setlog(JSON.stringify(result));
            hideLoading();
          })
          .catch(function(error) {
            setlog(JSON.stringify(error));
            hideLoading();
          });
      }
      function DisconnectSocialAccount() {
        showLoading();
        pd.DisconnectSocialAccount({
          user: {
            facebook: {
              access_token:
                "EAAZA2c15Dn9ABAPsBmvwVVkqZAfaznyqf7tqieJI12fvC8hypeluUAkQJeTUYZBqgb70wfN74Q6NxYSzogFrIYxTSW5GuQU3mzaxSkWtX3xc5gjkonrbdLPYzCrZAqD7PEtUX1Po7ypOpaop0GndC4v6okuBCcO0TLh1bee1f8vBeOuoyM8Ca61pcYRAZASojFjRjMpaa9q2tzUXD1yMeTMZBftlzmFUAUwgW2mLnEcwZDZD",
              id: "2424203447860834"
            }
          }
        })
          .then(result => {
            setlog(JSON.stringify(result));
            hideLoading();
          })
          .catch(function(error) {
            setlog(JSON.stringify(error));
            hideLoading();
          });
      }
    </script>
    <div
      class="container d-flex justify-content-center align-items-center flex-column"
      style="padding-top: 50px;"
    >
      <h3 class="m-4" style="padding-bottom: 20px;">
        Popdeem Javascript SDK Example
      </h3>
      <div class="d-flex flex-column">
        <button class="btn btn-primary mb-2" onclick="registerUser()">
          Register User on Popdeem
        </button>
        <button class="btn btn-primary mb-2">
          Update Existing Popdeem User
        </button>
        <button class="btn btn-primary mb-2">
          Connect Social Account to Existing Popdeem User
        </button>
        <button class="btn btn-primary mb-2" onclick="userInfo()">
          Get User information from Popdeem
        </button>
        <button
          class="btn btn-primary mb-2"
          onclick="DisconnectSocialAccount()"
        >
          Disconnect User
        </button>
        <button class="btn btn-primary mb-2" onclick="rewards()">
          Get Rewards
        </button>
        <button class="btn btn-primary mb-2" onclick="activity()">
          Get Activity
        </button>

        <textarea
          id="popdeem-log"
          class="mt-4"
          style="height: 150px;"
          placeholder="PopDeem Logs"
        ></textarea>
      </div>
    </div>
    <div
      id="loading"
      class="d-flex justify-content-center align-items-center"
      style="position: absolute; top:0;bottom:0;right:0;left:0;background-color: rgba(255,255,255,0.5);visibility:hidden;"
    >
      <div class="spinner-grow text-primary" role="status">
        <span class="sr-only">Loading...</span>
      </div>
      <div class="spinner-grow text-danger" role="status">
        <span class="sr-only">Loading...</span>
      </div>
      <div class="spinner-grow text-warning" role="status">
        <span class="sr-only">Loading...</span>
      </div>
    </div>
  <script type="text/javascript" src="bundle.js"></script></body>
</html>
